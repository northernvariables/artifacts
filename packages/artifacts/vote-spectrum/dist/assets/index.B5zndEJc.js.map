{"version":3,"file":"index.B5zndEJc.js","sources":["../../../../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../../../../node_modules/react/jsx-runtime.js","../../../../../node_modules/react-dom/client.js","../../../../design-system/src/components/NVHeader.tsx","../../../../design-system/src/components/NVFooter.tsx","../../src/components/WelcomeScreen.jsx","../../src/components/ProvinceScreen.jsx","../../src/components/PastVoteScreen.jsx","../../src/components/QuestionsScreen.jsx","../../src/components/ImportanceScreen.jsx","../../src/components/KnowledgeScreen.jsx","../../src/components/ConsentScreen.jsx","../../src/components/ResultsScreen.jsx","../../src/state.js","../../src/config.js","../../src/App.tsx","../../src/main.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","import React from 'react'\n\ninterface NVHeaderProps {\n  /** Optional custom className for additional styling */\n  className?: string\n  /** Whether to link to main site or artifacts */\n  linkTo?: 'main' | 'artifacts'\n}\n\n/**\n * Northern Variables unified header component\n * Features gradient background, logo banner, and accessible link\n */\nexport const NVHeader: React.FC<NVHeaderProps> = ({\n  className = '',\n  linkTo = 'main'\n}) => {\n  const href = linkTo === 'main'\n    ? '/'\n    : '/artifacts'\n\n  return (\n    <header\n      className={`nv-header ${className}`}\n      style={{\n        background: 'linear-gradient(135deg, #091a30 0%, #163b6b 55%, #ff6719 100%)',\n        borderBottom: '4px solid rgba(255, 255, 255, 0.25)',\n        padding: '2.25rem 1.5rem',\n        boxShadow: '0 10px 30px rgba(9, 26, 48, 0.25)',\n      }}\n    >\n      <div\n        className=\"nv-header-inner\"\n        style={{\n          maxWidth: '360px',\n          margin: '0 auto',\n          padding: '3px',\n          background: 'rgba(255, 255, 255, 0.86)',\n          borderRadius: '1rem',\n          overflow: 'hidden',\n          boxShadow: '0 12px 30px rgba(9, 26, 48, 0.15)',\n          backdropFilter: 'blur(6px)',\n        }}\n      >\n        <a\n          href={href}\n          style={{\n            display: 'block',\n            borderRadius: 'inherit',\n          }}\n          aria-label=\"Northern Variables Home\"\n        >\n          <img\n            src=\"https://northernvariables.ca/wp-content/uploads/2025/10/Northern-Variables.jpg\"\n            alt=\"Northern Variables logo\"\n            style={{\n              display: 'block',\n              width: '100%',\n              height: 'auto',\n              borderRadius: 'inherit',\n            }}\n          />\n        </a>\n      </div>\n    </header>\n  )\n}\n\nexport default NVHeader\n","import React from 'react'\n\ninterface FooterLink {\n  label: string\n  sublabel: string\n  href: string\n  icon: React.ReactNode\n  isExternal?: boolean\n  scaleIcon?: boolean\n}\n\ninterface NVFooterProps {\n  /** Optional custom className for additional styling */\n  className?: string\n  /** Copyright year */\n  year?: number\n  /** Custom footer links (defaults to standard NV links) */\n  customLinks?: FooterLink[]\n}\n\n/**\n * Northern Variables unified footer component\n * Features gradient background, navigation links, and copyright\n */\nexport const NVFooter: React.FC<NVFooterProps> = ({\n  className = '',\n  year = new Date().getFullYear(),\n  customLinks\n}) => {\n  const defaultLinks: FooterLink[] = [\n    {\n      label: 'Northern Variables',\n      sublabel: 'Website',\n      href: 'https://northernvariables.ca/',\n      isExternal: true,\n      scaleIcon: true,\n      icon: (\n        <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm6.93 8h-2.764c-.186-2.278-.891-4.312-1.983-5.712A8.027 8.027 0 0 1 18.93 10zM12 4.063c1.155 1.251 1.946 3.52 2.119 5.937H9.881C10.054 7.583 10.845 5.314 12 4.063zM4.5 14a7.95 7.95 0 0 1 0-4h2.708a17.69 17.69 0 0 0 0 4H4.5zm.57 2h2.764c.186 2.278.89 4.312 1.983 5.712A8.027 8.027 0 0 1 5.07 16zm2.764-8H5.07A8.027 8.027 0 0 1 9.317 4.288C8.224 5.688 7.52 7.722 7.334 10zM12 19.937c-1.155-1.251-1.946-3.52-2.119-5.937h4.238C13.946 16.417 13.155 18.686 12 19.937zM14.119 14H9.881a15.73 15.73 0 0 1 0-4h4.238a15.73 15.73 0 0 1 0 4zm.567 5.712c1.093-1.4 1.797-3.434 1.983-5.712h2.764a8.027 8.027 0 0 1-4.747 5.712z\" />\n        </svg>\n      )\n    },\n    {\n      label: 'Northern Variables',\n      sublabel: 'Substack',\n      href: 'https://axorc.substack.com',\n      isExternal: true,\n      icon: (\n        <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M4 4.75C4 3.784 4.784 3 5.75 3h12.5C19.216 3 20 3.784 20 4.75v2.5c0 .966-.784 1.75-1.75 1.75H5.75C4.784 9 4 8.216 4 7.25v-2.5Zm0 5.75 8 4.5 8-4.5v8.75A1.75 1.75 0 0 1 18.25 21H5.75A1.75 1.75 0 0 1 4 19.25V10.5Zm8 2.75L4 8.75V7.25C4 6.284 4.784 5.5 5.75 5.5h12.5C19.216 5.5 20 6.284 20 7.25v1.5l-8 4.5Z\" />\n        </svg>\n      )\n    },\n    {\n      label: 'Artifacts Library',\n      sublabel: 'Explore',\n      href: 'https://artifacts.northernvariables.ca/',\n      isExternal: false,\n      scaleIcon: true,\n      icon: (\n        <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M4.75 6.25 12 2l7.25 4.25v8.5L12 19l-7.25-4.25v-8.5Zm2.5 1.443v5.365L12 15.69l4.75-2.632V7.693L12 5.06 7.25 7.693ZM12 22l-7.25-4.25 1.5-.879L12 20.25l5.75-3.379 1.5.879L12 22Z\" />\n        </svg>\n      )\n    }\n  ]\n\n  const links = customLinks || defaultLinks\n\n  return (\n    <footer\n      className={`nv-footer ${className}`}\n      style={{\n        background: 'linear-gradient(120deg, #091a30 0%, #0f2747 60%, #d85612 100%)',\n        color: '#f8fafc',\n        padding: '2.5rem 1.5rem',\n        textAlign: 'center',\n        fontSize: '0.9rem',\n        boxShadow: '0 -12px 24px rgba(15, 39, 71, 0.3)',\n      }}\n    >\n      <div className=\"max-w-4xl mx-auto text-center\">\n        <div\n          className=\"nv-footer-links\"\n          style={{\n            display: 'flex',\n            justifyContent: 'center',\n            alignItems: 'stretch',\n            gap: '1rem',\n            flexWrap: 'nowrap',\n            overflowX: 'auto',\n            paddingBottom: '0.5rem',\n            marginBottom: '1.25rem',\n          }}\n        >\n          {links.map((link, index) => (\n            <a\n              key={index}\n              href={link.href}\n              target={link.isExternal ? '_blank' : '_self'}\n              rel={link.isExternal ? 'noopener noreferrer' : undefined}\n              className=\"nv-footer-link\"\n              style={{\n                display: 'inline-flex',\n                alignItems: 'center',\n                gap: '0.65rem',\n                padding: '0.65rem 1.25rem',\n                borderRadius: '9999px',\n                background: 'rgba(255, 255, 255, 0.08)',\n                fontWeight: 600,\n                letterSpacing: '0.02em',\n                boxShadow: 'inset 0 0 0 1px rgba(255, 255, 255, 0.18)',\n                transition: 'background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease',\n                whiteSpace: 'nowrap',\n                color: '#ffd7c2',\n                textDecoration: 'none',\n              }}\n            >\n              <span\n                className={`nv-footer-link-icon ${link.scaleIcon ? 'nv-footer-link-icon--scale' : ''}`}\n                aria-hidden=\"true\"\n                style={{\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  width: '1.5rem',\n                  height: '1.5rem',\n                  borderRadius: '9999px',\n                  background: 'rgba(15, 23, 42, 0.18)',\n                  color: '#fff7ed',\n                  boxShadow: '0 4px 10px rgba(15, 23, 42, 0.2)',\n                }}\n              >\n                <span\n                  style={{\n                    width: '1rem',\n                    height: '1rem',\n                    display: 'inline-flex',\n                    transform: link.scaleIcon ? 'scale(1.18)' : 'scale(1)',\n                  }}\n                >\n                  {link.icon}\n                </span>\n              </span>\n              <span\n                className=\"nv-footer-link-text\"\n                style={{\n                  display: 'inline-flex',\n                  flexDirection: 'column',\n                  alignItems: 'flex-start',\n                  lineHeight: 1.2,\n                }}\n              >\n                <span>{link.label}</span>\n                <span\n                  style={{\n                    fontSize: '0.75rem',\n                    fontWeight: 500,\n                    letterSpacing: '0.08em',\n                    textTransform: 'uppercase',\n                    opacity: 0.85,\n                  }}\n                >\n                  {link.sublabel}\n                </span>\n              </span>\n            </a>\n          ))}\n        </div>\n\n        <p style={{ fontSize: '0.85rem', letterSpacing: '0.01em' }}>\n          &copy; {year} Northern Variables. All rights reserved.\n        </p>\n      </div>\n    </footer>\n  )\n}\n\nexport default NVFooter\n","import React from 'react';\n\nexport const WelcomeScreen = ({ onStart }) => (\n  <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 flex items-center justify-center p-4\">\n    <div className=\"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8 md:p-12\">\n      <div className=\"text-center mb-8\">\n        <h1 className=\"text-4xl font-bold text-gray-900 mb-2\">Canadian Vote Spectrum</h1>\n        <p className=\"text-lg text-gray-600\">Discover where you stand on the Canadian political spectrum</p>\n      </div>\n\n      <div className=\"space-y-4 mb-8 text-gray-700\">\n        <p>This comprehensive voting advice instrument will help you understand your political positioning across multiple dimensions including economic policy, social values, climate priorities, and more.</p>\n\n        <div className=\"bg-blue-50 border-l-4 border-blue-600 p-4 rounded\">\n          <p className=\"font-semibold mb-2\">What to expect:</p>\n          <ul className=\"space-y-1 text-sm\">\n            <li>36 federal policy questions including current events & controversial issues</li>\n            <li>Up to 12 province-specific questions</li>\n            <li>Mark questions as very important for personalized weighting</li>\n            <li>Educational facts about Canadian politics</li>\n            <li>Progress milestones to keep you motivated</li>\n            <li>Priority weighting exercise across 12 issue areas</li>\n            <li>Detailed breakdown showing WHY you matched with each party</li>\n            <li>Consistency analysis of your responses</li>\n            <li>Personalized results with party alignment & 2D positioning</li>\n          </ul>\n        </div>\n\n        <p className=\"text-sm text-gray-600\">\n          <strong>Time estimate:</strong> 15-20 minutes\n          <strong className=\"ml-2\">Privacy:</strong> Your responses are private and never tracked.\n          At the end, you can optionally contribute anonymized data for research.\n        </p>\n      </div>\n\n      <button\n        onClick={onStart}\n        className=\"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-4 px-6 rounded-lg transition-colors duration-200 shadow-lg\"\n      >\n        Get Started\n      </button>\n    </div>\n  </div>\n);\n","import React from 'react';\n\nconst PROVINCES = ['BC', 'AB', 'SK', 'MB', 'ON', 'QC', 'NB', 'NS', 'PE', 'NL', 'YT', 'NT', 'NU'];\n\nexport const ProvinceScreen = ({ onSelectProvince }) => (\n  <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 flex items-center justify-center p-4\">\n    <div className=\"max-w-xl w-full bg-white rounded-2xl shadow-xl p-8\">\n      <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Select Your Province</h2>\n      <p className=\"text-gray-600 mb-6\">This helps us show you relevant provincial questions.</p>\n\n      <div className=\"grid grid-cols-2 gap-3\">\n        {PROVINCES.map((prov) => (\n          <button\n            key={prov}\n            onClick={() => onSelectProvince(prov)}\n            className=\"py-3 px-4 border-2 border-gray-200 hover:border-red-600 hover:bg-red-50 rounded-lg font-medium transition-all duration-200\"\n          >\n            {prov}\n          </button>\n        ))}\n      </div>\n    </div>\n  </div>\n);\n","import React from 'react';\n\nconst PAST_VOTE_OPTIONS = [\n  'Liberal',\n  'Conservative',\n  'NDP',\n  'Bloc Quebecois',\n  'Green',\n  'PPC',\n  'Other/Did not vote',\n  'Prefer not to say'\n];\n\nexport const PastVoteScreen = ({ pastVote2021, onSelectPastVote, onContinue }) => (\n  <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 flex items-center justify-center p-4\">\n    <div className=\"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8\">\n      <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">One More Question</h2>\n      <p className=\"text-gray-600 mb-6\">\n        This helps us calibrate your results more accurately.\n      </p>\n\n      <div className=\"mb-6\">\n        <label className=\"block text-lg font-semibold text-gray-900 mb-4\">\n          Which party did you vote for in the 2021 federal election? (Optional)\n        </label>\n        <div className=\"space-y-3\">\n          {PAST_VOTE_OPTIONS.map((party) => (\n            <button\n              key={party}\n              onClick={() => onSelectPastVote(party)}\n              className={`w-full py-3 px-6 rounded-lg border-2 transition-all duration-200 text-left font-medium ${\n                pastVote2021 === party\n                  ? 'border-red-600 bg-red-50 text-red-900'\n                  : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'\n              }`}\n            >\n              {party}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <button\n        onClick={onContinue}\n        className=\"w-full py-4 px-6 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold transition-colors\"\n      >\n        Continue to Questions\n      </button>\n    </div>\n  </div>\n);\n","import React, { useMemo } from 'react';\n\nconst TERRITORY_CODES = new Set(['YT', 'NT', 'NU']);\n\nconst DID_YOU_KNOW_FACTS = [\n  'Canada has had 23 Prime Ministers since Confederation in 1867.',\n  'The longest-serving PM was William Lyon Mackenzie King (21 years).',\n  \"Canada's Senate has 105 appointed members who serve until age 75.\",\n  'The Bloc Quebecois only runs candidates in Quebec ridings.',\n  \"Canada uses a first-past-the-post electoral system.\",\n  'Federal elections must be held at least every 5 years.',\n  'The Governor General formally appoints the Prime Minister.',\n  \"Quebec has 78 federal seats, the second-most after Ontario's 121.\",\n  \"A party needs 172 seats to form a majority government in Canada's 343-seat House of Commons.\",\n  'Canada held a referendum on electoral reform in British Columbia in 2018 - it was defeated.',\n  'The Clarity Act (2000) sets conditions for Quebec separation referendums.',\n  \"Supply management has protected Canadian dairy farmers since the 1970s.\",\n  \"Canada's current voting system was established in 1867 and has never changed.\",\n  'The notwithstanding clause has been used over 50 times by provincial governments.',\n  'About 75% of Canadians live within 100 miles of the US border.',\n  \"Canada-US trade exceeds $900 billion annually, making it the world's largest bilateral trade relationship.\",\n  'The US accounts for about 75% of Canada\\'s total exports.',\n  'CRTC regulations require Canadian radio stations to play at least 35% Canadian content.'\n];\n\nconst SCALE_LABELS = [\n  { value: 0, label: 'Strongly Disagree', short: 'SD' },\n  { value: 25, label: 'Disagree', short: 'D' },\n  { value: 50, label: 'Neutral', short: 'N' },\n  { value: 75, label: 'Agree', short: 'A' },\n  { value: 100, label: 'Strongly Agree', short: 'SA' }\n];\n\nconst getLabelForValue = (value) => {\n  if (value <= 10) return 'Strongly Disagree';\n  if (value <= 35) return 'Disagree';\n  if (value <= 65) return 'Neutral';\n  if (value <= 90) return 'Agree';\n  return 'Strongly Agree';\n};\n\nexport const QuestionsScreen = ({\n  province,\n  questions,\n  currentQuestionIndex,\n  responses,\n  questionImportance,\n  showMilestone,\n  milestoneMessage,\n  onToggleImportance,\n  onResponseChange,\n  onSkip,\n  onNext,\n  onPrevious,\n  onRestart\n}) => {\n  const currentQuestion = questions[currentQuestionIndex];\n\n  const progress = useMemo(() => {\n    if (!questions.length) {\n      return 0;\n    }\n    return ((currentQuestionIndex + 1) / questions.length) * 100;\n  }, [currentQuestionIndex, questions.length]);\n\n  const currentValue = currentQuestion ? responses[currentQuestion.qid] ?? 50 : 50;\n  const isImportant = currentQuestion ? Boolean(questionImportance[currentQuestion.qid]) : false;\n  const randomFact = DID_YOU_KNOW_FACTS[currentQuestionIndex % DID_YOU_KNOW_FACTS.length];\n\n  const relevantProvinceTags = useMemo(() => {\n    if (!currentQuestion || currentQuestion.jurisdiction !== 'provincial') {\n      return [];\n    }\n\n    if (!province || !Array.isArray(currentQuestion.province_gate)) {\n      return [];\n    }\n\n    return currentQuestion.province_gate.filter((code) => code === province);\n  }, [currentQuestion, province]);\n\n  if (!questions.length || !currentQuestion) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 flex items-center justify-center p-4\">\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 text-center\">\n          <p className=\"text-xl text-gray-900 mb-4\">Loading questions...</p>\n          <button\n            onClick={onRestart}\n            className=\"px-6 py-3 bg-red-600 hover:bg-red-700 text-white rounded-lg font-semibold\"\n          >\n            Restart\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 p-4 py-8\">\n      <div className=\"max-w-3xl mx-auto\">\n        <div className=\"mb-6\">\n          <div className=\"flex justify-between text-sm text-gray-600 mb-2\">\n            <span>Question {currentQuestionIndex + 1} of {questions.length}</span>\n            <span>{Math.round(progress)}% Complete</span>\n          </div>\n          <div className=\"w-full bg-gray-200 rounded-full h-2\">\n            <div\n              className=\"bg-red-600 h-2 rounded-full transition-all duration-300\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 relative\" style={{ height: '900px' }}>\n          <div className=\"h-[800px] overflow-y-auto\">\n            <div className=\"mb-8 h-[16rem]\">\n              <div className=\"flex gap-2 mb-4\">\n                <span className=\"inline-block px-3 py-1 bg-blue-100 text-blue-800 text-xs font-semibold rounded-full\">\n                  {currentQuestion.issue_bucket.replace(/_/g, ' ').toUpperCase()}\n                </span>\n                {currentQuestion.jurisdiction === 'provincial' &&\n                  relevantProvinceTags.map((code) => (\n                    <span\n                      key={code}\n                      className=\"inline-block px-3 py-1 bg-purple-100 text-purple-800 text-xs font-semibold rounded-full\"\n                    >\n                      {code} {TERRITORY_CODES.has(code) ? 'TERRITORIAL' : 'PROVINCIAL'}\n                    </span>\n                  ))}\n              </div>\n              <h3 className=\"text-2xl font-bold text-gray-900 mb-4 h-[10rem] flex items-start overflow-y-auto\">\n                {currentQuestion.text}\n              </h3>\n\n              <div className=\"flex items-center justify-between mb-4\">\n                <button\n                  onClick={() => onToggleImportance(currentQuestion.qid, !isImportant)}\n                  className={`flex items-center gap-2 px-4 py-2 rounded-lg border-2 transition-all duration-200 ${\n                    isImportant\n                      ? 'border-yellow-500 bg-yellow-50 text-yellow-800'\n                      : 'border-gray-300 text-gray-600 hover:border-yellow-400'\n                  }`}\n                >\n                  <svg className=\"w-5 h-5\" fill={isImportant ? 'currentColor' : 'none'} stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z\" />\n                  </svg>\n                  {isImportant ? 'Very Important to Me' : 'Mark as Important'}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"space-y-6 h-[420px]\">\n              <div className=\"text-center\">\n                <div className=\"inline-block px-6 py-3 bg-red-600 text-white rounded-full text-xl font-bold mb-2\">\n                  {getLabelForValue(currentValue)}\n                </div>\n                <div className=\"text-sm text-gray-500\">Position: {currentValue}</div>\n              </div>\n\n              <div className=\"px-2\">\n                <input\n                  type=\"range\"\n                  min=\"0\"\n                  max=\"100\"\n                  step=\"1\"\n                  value={currentValue}\n                  onChange={(event) => onResponseChange(currentQuestion.qid, Number(event.target.value))}\n                  className=\"w-full h-3 bg-gradient-to-r from-red-600 via-gray-300 to-blue-600 rounded-lg appearance-none cursor-pointer slider\"\n                  style={{\n                    background: 'linear-gradient(to right, #DC2626 0%, #EF4444 20%, #D1D5DB 40%, #D1D5DB 60%, #3B82F6 80%, #2563EB 100%)'\n                  }}\n                />\n                <style>{`\n                  .slider::-webkit-slider-thumb {\n                    appearance: none;\n                    width: 32px;\n                    height: 32px;\n                    border-radius: 50%;\n                    background: white;\n                    border: 4px solid #DC2626;\n                    cursor: pointer;\n                    box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n                  }\n                  .slider::-webkit-slider-thumb:hover {\n                    transform: scale(1.15);\n                    box-shadow: 0 4px 12px rgba(0,0,0,0.4);\n                  }\n                  .slider::-webkit-slider-thumb:active {\n                    transform: scale(1.05);\n                  }\n                  .slider::-moz-range-thumb {\n                    width: 32px;\n                    height: 32px;\n                    border-radius: 50%;\n                    background: white;\n                    border: 4px solid #DC2626;\n                    cursor: pointer;\n                    box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n                  }\n                  .slider::-moz-range-thumb:hover {\n                    transform: scale(1.15);\n                    box-shadow: 0 4px 12px rgba(0,0,0,0.4);\n                  }\n                  .slider::-moz-range-thumb:active {\n                    transform: scale(1.05);\n                  }\n                `}</style>\n              </div>\n\n              <div className=\"flex justify-between text-xs text-gray-600 px-2\">\n                {SCALE_LABELS.map(({ value, label }) => (\n                  <span key={value} className=\"font-semibold text-center\">\n                    {label.split(' ').map((word, index) => (\n                      <React.Fragment key={`${value}-${word}-${index}`}>\n                        {index > 0 && <br />}\n                        {word}\n                      </React.Fragment>\n                    ))}\n                  </span>\n                ))}\n              </div>\n\n              <div className=\"grid grid-cols-5 gap-2 mt-4\">\n                {SCALE_LABELS.map(({ value, short }) => (\n                  <button\n                    key={value}\n                    onClick={() => onResponseChange(currentQuestion.qid, value)}\n                    className={`py-2 px-3 rounded-lg border-2 font-semibold text-sm transition-all duration-200 ${\n                      Math.abs(currentValue - value) <= 12\n                        ? 'border-red-600 bg-red-50 text-red-900'\n                        : 'border-gray-200 hover:border-gray-400 text-gray-600'\n                    }`}\n                  >\n                    {short}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            <div className={`p-3 mt-6 h-[4rem] flex items-center overflow-y-auto rounded-lg border-l-4 ${\n              showMilestone ? 'bg-green-100 border-green-600' : 'bg-blue-50 border-blue-500'\n            }`}>\n              {showMilestone ? (\n                <p className=\"text-sm text-green-900 font-bold animate-pulse\">{milestoneMessage}</p>\n              ) : (\n                <p className=\"text-sm text-blue-900\">\n                  <strong>Did you know?</strong> {randomFact}\n                </p>\n              )}\n            </div>\n          </div>\n\n          <div className=\"absolute bottom-8 left-8 right-8 flex gap-3\">\n            {currentQuestionIndex > 0 && (\n              <button\n                onClick={onPrevious}\n                className=\"px-6 py-2 border-2 border-gray-300 hover:bg-gray-50 rounded-lg font-medium transition-colors\"\n              >\n                Previous\n              </button>\n            )}\n            <div className=\"flex gap-3 ml-auto\">\n              <button\n                onClick={onSkip}\n                className=\"px-6 py-2 border-2 border-gray-300 hover:bg-gray-50 rounded-lg font-medium transition-colors\"\n              >\n                Skip\n              </button>\n              {responses[currentQuestion.qid] !== undefined && (\n                <button\n                  onClick={onNext}\n                  className=\"px-6 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg font-medium transition-colors\"\n                >\n                  {currentQuestionIndex < questions.length - 1 ? 'Next' : 'Continue'}\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useMemo } from 'react';\n\nexport const ImportanceScreen = ({\n  importance,\n  issueBuckets,\n  onSetImportance,\n  onContinue,\n  onBack\n}) => {\n  const remaining = useMemo(\n    () => 100 - Object.values(importance).reduce((sum, value) => sum + value, 0),\n    [importance]\n  );\n\n  const sortedBuckets = useMemo(() => {\n    return [...issueBuckets].sort((a, b) => {\n      const aVal = importance[a.id] || 0;\n      const bVal = importance[b.id] || 0;\n      return bVal - aVal;\n    });\n  }, [issueBuckets, importance]);\n\n  const incrementValue = (id, amount) => {\n    const currentVal = importance[id] || 0;\n    const newVal = Math.max(0, Math.min(100, currentVal + amount));\n    const diff = newVal - currentVal;\n\n    if (diff > 0 && remaining >= diff) {\n      onSetImportance({ ...importance, [id]: newVal });\n    } else if (diff < 0) {\n      onSetImportance({ ...importance, [id]: newVal });\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 p-4 py-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"bg-white rounded-2xl shadow-xl p-8\">\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">What Matters Most to You?</h2>\n          <p className=\"text-gray-600 mb-6\">\n            Distribute 100 points across these issues. Give more points to issues that are most important to you.\n            Your priorities will personalize your results.\n          </p>\n\n          <div className=\"mb-8 grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"col-span-1 md:col-span-2 p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl border-2 border-blue-200\">\n              <div className=\"text-sm text-blue-800 font-semibold mb-1\">POINTS REMAINING</div>\n              <div className=\"text-5xl font-bold text-blue-900\">{remaining}</div>\n            </div>\n\n            <div className=\"flex flex-col gap-2\">\n              <button\n                onClick={() => {\n                  const equalPoints = Math.floor(100 / issueBuckets.length);\n                  const newImportance = {};\n                  issueBuckets.forEach((bucket, index) => {\n                    newImportance[bucket.id] = index === 0 ? equalPoints + (100 - equalPoints * issueBuckets.length) : equalPoints;\n                  });\n                  onSetImportance(newImportance);\n                }}\n                className=\"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold rounded-lg transition-colors\"\n              >\n                Distribute Equally\n              </button>\n              <button\n                onClick={() => onSetImportance({})}\n                className=\"flex-1 px-4 py-3 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm font-semibold rounded-lg transition-colors\"\n              >\n                Clear All\n              </button>\n            </div>\n          </div>\n\n          <div className=\"space-y-3 mb-8\">\n            {sortedBuckets.map((bucket, index) => {\n              const value = importance[bucket.id] || 0;\n              const barWidth = value;\n\n              return (\n                <div key={bucket.id} className=\"group\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${\n                      value > 0 ? 'bg-red-600 text-white' : 'bg-gray-300 text-gray-600'\n                    }`}>\n                      {index + 1}\n                    </div>\n                    <div className=\"flex-1\">\n                      <label className=\"font-semibold text-gray-900\">{bucket.label}</label>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <button\n                        onClick={() => incrementValue(bucket.id, -5)}\n                        disabled={value === 0}\n                        className=\"w-8 h-8 flex items-center justify-center bg-gray-200 hover:bg-gray-300 disabled:opacity-30 disabled:cursor-not-allowed rounded-lg font-bold text-gray-700 transition-colors\"\n                      >\n                        âˆ’\n                      </button>\n                      <div className=\"w-16 text-center\">\n                        <span className=\"text-2xl font-bold text-red-600\">{value}</span>\n                      </div>\n                      <button\n                        onClick={() => incrementValue(bucket.id, 5)}\n                        disabled={remaining < 5}\n                        className=\"w-8 h-8 flex items-center justify-center bg-red-600 hover:bg-red-700 disabled:opacity-30 disabled:cursor-not-allowed text-white rounded-lg font-bold transition-colors\"\n                      >\n                        +\n                      </button>\n                    </div>\n                  </div>\n                  <div className=\"ml-11 relative\">\n                    <div className=\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\">\n                      <div\n                        className=\"bg-gradient-to-r from-red-500 to-red-600 h-3 rounded-full transition-all duration-300 ease-out\"\n                        style={{ width: `${barWidth}%` }}\n                      />\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded mb-6\">\n            <p className=\"text-sm text-yellow-900\">\n              <strong>Tip:</strong> You don't need to use all 100 points. Only allocate points to issues that matter to you.\n              Unallocated points mean those issues won't affect your results as much.\n            </p>\n          </div>\n\n          <div className=\"flex justify-between items-center\">\n            <button\n              onClick={onBack}\n              className=\"px-6 py-3 border-2 border-gray-300 hover:bg-gray-50 rounded-lg font-semibold text-gray-700 transition-colors\"\n            >\n              Back to Questions\n            </button>\n            <button\n              onClick={onContinue}\n              className=\"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors\"\n            >\n              Continue\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useState } from 'react';\n\nexport const KnowledgeScreen = ({ knowledgeQuiz, knowledgeAnswers, onUpdateAnswer, onComplete }) => {\n  const [currentQ, setCurrentQ] = useState(0);\n  const question = knowledgeQuiz[currentQ];\n\n  if (!question) {\n    return null;\n  }\n\n  const currentAnswer = knowledgeAnswers[question.qid];\n  const goToNext = () => {\n    if (currentQ < knowledgeQuiz.length - 1) {\n      setCurrentQ((prev) => prev + 1);\n    } else {\n      onComplete();\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 p-4 py-8\">\n      <div className=\"max-w-3xl mx-auto\">\n        <div className=\"bg-white rounded-2xl shadow-xl p-8\">\n          <div className=\"mb-6\">\n            <span className=\"inline-block px-3 py-1 bg-purple-100 text-purple-800 text-xs font-semibold rounded-full mb-4\">\n              KNOWLEDGE CHECK {currentQ + 1} of {knowledgeQuiz.length}\n            </span>\n            <h3 className=\"text-2xl font-bold text-gray-900 mb-4\">{question.text}</h3>\n          </div>\n\n          <div className=\"space-y-3\">\n            {question.options.map((option, idx) => (\n              <button\n                key={idx}\n                onClick={() => onUpdateAnswer(question.qid, idx)}\n                className={`w-full py-4 px-6 rounded-lg border-2 transition-all duration-200 text-left font-medium ${\n                  currentAnswer === idx\n                    ? 'border-purple-600 bg-purple-50 text-purple-900'\n                    : 'border-gray-200 hover:border-purple-300 hover:bg-purple-50'\n                }`}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <div\n                    className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${\n                      currentAnswer === idx ? 'border-purple-600 bg-purple-600' : 'border-gray-300'\n                    }`}\n                  >\n                    {currentAnswer === idx && (\n                      <svg className=\"w-4 h-4 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path\n                          fillRule=\"evenodd\"\n                          d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                          clipRule=\"evenodd\"\n                        />\n                      </svg>\n                    )}\n                  </div>\n                  <span>{option}</span>\n                </div>\n              </button>\n            ))}\n          </div>\n\n          <div className=\"mt-6 flex gap-3 justify-end\">\n            <button\n              onClick={goToNext}\n              className=\"px-6 py-2 border-2 border-gray-300 hover:bg-gray-50 rounded-lg font-medium transition-colors\"\n            >\n              Skip\n            </button>\n            {currentAnswer !== undefined && (\n              <button\n                onClick={goToNext}\n                className=\"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors\"\n              >\n                {currentQ < knowledgeQuiz.length - 1 ? 'Next' : 'Continue'}\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport const ConsentScreen = ({ consentToShare, onToggleConsent, onSubmit, onSkip }) => (\n  <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 flex items-center justify-center p-4\">\n    <div className=\"max-w-3xl w-full bg-white rounded-2xl shadow-xl p-8\">\n      <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">Help Improve Canadian Political Research</h2>\n\n      <div className=\"space-y-4 mb-6 text-gray-700\">\n        <p className=\"text-lg\">\n          You've completed the survey! Before we show your results, would you like to contribute your anonymized responses to help improve political research in Canada?\n        </p>\n\n        <div className=\"bg-blue-50 border-l-4 border-blue-600 p-4 rounded\">\n          <h3 className=\"font-bold text-blue-900 mb-2\">What WILL be collected (if you consent):</h3>\n          <ul className=\"list-disc list-inside space-y-1 text-sm text-blue-900\">\n            <li>Your province</li>\n            <li>Your responses to all survey questions</li>\n            <li>Which questions you marked as important</li>\n            <li>Your priority issue rankings</li>\n            <li>Your past voting behavior (2021)</li>\n            <li>Your calculated political positioning</li>\n            <li>Timestamp of submission</li>\n          </ul>\n        </div>\n\n        <div className=\"bg-green-50 border-l-4 border-green-600 p-4 rounded\">\n          <h3 className=\"font-bold text-green-900 mb-2\">What will NOT be collected:</h3>\n          <ul className=\"list-disc list-inside space-y-1 text-sm text-green-900\">\n            <li>No IP addresses</li>\n            <li>No email addresses or names</li>\n            <li>No device identifiers or fingerprints</li>\n            <li>No cookies or tracking pixels</li>\n            <li>No session IDs that could identify you</li>\n            <li>No personally identifiable information of any kind</li>\n          </ul>\n        </div>\n      </div>\n\n      <div className=\"mb-6 p-4 bg-gray-50 rounded-lg border-2 border-gray-200\">\n        <label className=\"flex items-start gap-3 cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            checked={consentToShare}\n            onChange={(event) => onToggleConsent(event.target.checked)}\n            className=\"mt-1 w-5 h-5 text-red-600 border-gray-300 rounded focus:ring-red-500\"\n          />\n          <span className=\"text-gray-900 font-medium\">\n            I consent to sharing my anonymized survey responses for research purposes as described above.\n            I understand that no personally identifiable information will be collected.\n          </span>\n        </label>\n      </div>\n\n      <div className=\"flex gap-4\">\n        <button\n          onClick={onSkip}\n          className=\"flex-1 py-4 px-6 border-2 border-gray-300 hover:bg-gray-50 text-gray-700 rounded-lg font-semibold transition-colors\"\n        >\n          No Thanks, Show My Results\n        </button>\n        <button\n          onClick={onSubmit}\n          className={`flex-1 py-4 px-6 rounded-lg font-semibold transition-colors ${\n            consentToShare ? 'bg-red-600 hover:bg-red-700 text-white' : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n          }`}\n          disabled={!consentToShare}\n        >\n          {consentToShare ? 'Submit & See Results' : 'Please Check Box Above'}\n        </button>\n      </div>\n    </div>\n  </div>\n);\n","import React, { useMemo } from 'react';\nimport {\n  ResponsiveContainer,\n  BarChart,\n  Bar,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Legend,\n  Cell,\n  ScatterChart,\n  Scatter,\n  ZAxis\n} from 'recharts';\n\nconst SHARE_URL = 'https://axorc.substack.com';\n\nconst withAlpha = (hex, alpha = 0.12) => {\n  if (!hex || typeof hex !== 'string') {\n    return `rgba(15, 23, 42, ${alpha})`;\n  }\n  let normalized = hex.replace('#', '');\n  if (normalized.length === 3) {\n    normalized = normalized.split('').map((char) => char + char).join('');\n  }\n  const bigint = parseInt(normalized.slice(0, 6), 16);\n  const r = (bigint >> 16) & 255;\n  const g = (bigint >> 8) & 255;\n  const b = bigint & 255;\n  return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n};\n\nconst PartyResultRow = ({ party, index }) => {\n  const safeColor = party.color || '#0f172a';\n  const safeAlignment = Number.isFinite(party.alignment) ? Math.min(Math.max(party.alignment, 0), 100) : 0;\n\n  return (\n    <div\n      className=\"flex items-center gap-4 p-4 rounded-xl border shadow-sm\"\n      style={{\n        borderColor: safeColor,\n        background: withAlpha(safeColor, 0.12)\n      }}\n    >\n      <div\n        className=\"w-10 h-10 rounded-full flex items-center justify-center text-white font-bold\"\n        style={{ backgroundColor: safeColor }}\n      >\n        {index + 1}\n      </div>\n      {party.logo ? (\n        <img\n          src={party.logo}\n          alt={`${party.name} logo`}\n          className=\"w-12 h-12 rounded-full bg-white object-contain p-1 shadow-sm\"\n        />\n      ) : (\n        <div className=\"w-12 h-12 rounded-full bg-white text-gray-500 flex items-center justify-center font-semibold shadow-sm\">\n          {party.name?.charAt(0) ?? '?'}\n        </div>\n      )}\n      <div className=\"flex-1\">\n        <div className=\"flex justify-between items-center text-sm font-semibold text-gray-900\">\n          <span>{party.name}</span>\n          <span>{safeAlignment.toFixed(0)}% match</span>\n        </div>\n        <div className=\"w-full bg-white/70 rounded-full h-2 mt-2\">\n          <div\n            className=\"h-2 rounded-full\"\n            style={{ width: `${safeAlignment}%`, backgroundColor: safeColor }}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const ResultsScreen = ({\n  results,\n  responses,\n  questions,\n  province,\n  parties,\n  provincialParties,\n  pastVote2021,\n  dataSubmitted,\n  onRestart\n}) => {\n  const { axisScores, partyDistances, provincialPartyDistances, confidence, consistencyIssues } = results;\n\n  const federalQs = useMemo(\n    () => questions.filter((question) => question.jurisdiction === 'federal').length,\n    [questions]\n  );\n  const provincialQs = useMemo(\n    () => questions.filter((question) => question.jurisdiction === 'provincial').length,\n    [questions]\n  );\n\n  const sortedParties = useMemo(() =>\n    Object.entries(partyDistances)\n      .sort(([, a], [, b]) => b.alignment - a.alignment)\n      .map(([code, data]) => ({\n        code,\n        name: parties[code]?.name || code,\n        alignment: data.alignment,\n        color: parties[code]?.color,\n        logo: parties[code]?.logo\n      })),\n  [partyDistances, parties]);\n\n  const sortedProvincialParties = useMemo(() => {\n    const provincial = provincialParties[province] || {};\n    return Object.entries(provincialPartyDistances)\n      .sort(([, a], [, b]) => b.alignment - a.alignment)\n      .map(([code, data]) => ({\n        code,\n        name: provincial[code]?.name || code,\n        alignment: data.alignment,\n        color: provincial[code]?.color,\n        logo: provincial[code]?.logo\n      }));\n  }, [provincialPartyDistances, provincialParties, province]);\n\n  const scatterData = useMemo(() => [\n    {\n      name: 'You',\n      x: axisScores.economic_model || 0,\n      y: axisScores.social_values || 0,\n      z: 20,\n      color: '#EF4444'\n    },\n    ...Object.entries(parties).map(([code, party]) => ({\n      name: party.name,\n      x: party.economic_model,\n      y: party.social_values,\n      z: 15,\n      color: party.color\n    }))\n  ], [axisScores, parties]);\n\n  const shareText = useMemo(() => {\n    if (!sortedParties.length) {\n      return '';\n    }\n\n    const pastVoteNote = pastVote2021 && !pastVote2021.includes('not') && !pastVote2021.includes('Prefer')\n      ? `\\n(I voted ${pastVote2021} in 2021)`\n      : '';\n\n    const topThree = sortedParties.slice(0, 3).map((party, index) => `${index + 1}. ${party.name} - ${party.alignment.toFixed(0)}%`).join('\\n');\n\n    return `I just took the Canadian Vote Spectrum quiz!\\n\\nMy top matches:\\n${topThree}${pastVoteNote}\\n\\nFind out where you stand on Canadian politics!\\n\\n@northernvariables`;\n  }, [sortedParties, pastVote2021]);\n\n  const handleThreadsShare = () => {\n    const threadsUrl = `https://threads.net/intent/post?text=${encodeURIComponent(shareText)}`;\n    window.open(threadsUrl, '_blank', 'noopener,noreferrer');\n  };\n\n  const handleFacebookShare = () => {\n    const fbUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(SHARE_URL)}&quote=${encodeURIComponent(shareText)}`;\n    window.open(fbUrl, '_blank', 'noopener,noreferrer');\n  };\n\n  const handleCopyResults = () => {\n    navigator.clipboard.writeText(shareText).then(() => {\n      alert('Results copied to clipboard!');\n    }).catch(() => {\n      alert('Failed to copy results. Please try again.');\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-white to-red-50 p-4 py-8\">\n      <div className=\"max-w-6xl mx-auto\">\n        {dataSubmitted && (\n          <div className=\"mb-6 bg-green-100 border-2 border-green-600 rounded-lg p-4 text-center\">\n            <p className=\"text-lg font-bold text-green-800\">\n              Thank you for contributing to Canadian political research!\n            </p>\n            <p className=\"text-sm text-green-700\">\n              Your anonymized responses have been securely submitted. This helps us understand Canadian political trends.\n            </p>\n          </div>\n        )}\n\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 mb-6\">\n          <div className=\"flex justify-between items-start mb-6\">\n            <div>\n              <h2 className=\"text-3xl font-bold text-gray-900 mb-2\">Your Results</h2>\n              <p className=\"text-gray-600\">\n                Based on your responses to {Object.keys(responses).length} questions ({federalQs} federal{provincialQs > 0 ? `, ${provincialQs} ${province} provincial` : ''})\n              </p>\n            </div>\n            <div className={`px-4 py-2 rounded-full text-sm font-semibold ${\n              confidence === 'high' ? 'bg-green-100 text-green-800' :\n              confidence === 'medium' ? 'bg-yellow-100 text-yellow-800' :\n              'bg-red-100 text-red-800'\n            }`}>\n              {confidence.toUpperCase()} CONFIDENCE\n            </div>\n          </div>\n\n          {sortedParties.length > 0 && (\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8\">\n              <div\n                className=\"p-6 rounded-xl shadow-lg border-4 text-center\"\n                style={{\n                  borderColor: sortedParties[0].color,\n                  backgroundColor: withAlpha(sortedParties[0].color, 0.12)\n                }}\n              >\n                <div className=\"text-sm font-semibold text-gray-600 mb-2\">YOUR TOP FEDERAL MATCH</div>\n                <div className=\"flex items-center justify-center gap-3\">\n                  <div\n                    className=\"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-xl\"\n                    style={{ backgroundColor: sortedParties[0].color }}\n                  >\n                    #1\n                  </div>\n                  {sortedParties[0].logo && (\n                    <img\n                      src={sortedParties[0].logo}\n                      alt={`${sortedParties[0].name} logo`}\n                      className=\"w-12 h-12 rounded-full bg-white object-contain p-1 shadow\"\n                    />\n                  )}\n                  <div className=\"text-left\">\n                    <div className=\"text-2xl font-bold\" style={{ color: sortedParties[0].color }}>\n                      {sortedParties[0].name}\n                    </div>\n                    <div className=\"text-lg font-semibold text-gray-700\">\n                      {sortedParties[0].alignment.toFixed(0)}% match\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {provincialQs > 0 && sortedProvincialParties.length > 0 && (\n                <div\n                  className=\"p-6 rounded-xl shadow-lg border-4 text-center\"\n                  style={{\n                    borderColor: sortedProvincialParties[0].color,\n                    backgroundColor: withAlpha(sortedProvincialParties[0].color, 0.12)\n                  }}\n                >\n                  <div className=\"text-sm font-semibold text-gray-600 mb-2\">YOUR TOP {province} PROVINCIAL MATCH</div>\n                  <div className=\"flex items-center justify-center gap-3\">\n                    <div\n                      className=\"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-xl\"\n                      style={{ backgroundColor: sortedProvincialParties[0].color }}\n                    >\n                      #1\n                    </div>\n                    {sortedProvincialParties[0].logo && (\n                      <img\n                        src={sortedProvincialParties[0].logo}\n                        alt={`${sortedProvincialParties[0].name} logo`}\n                        className=\"w-12 h-12 rounded-full bg-white object-contain p-1 shadow\"\n                      />\n                    )}\n                    <div className=\"text-left\">\n                      <div className=\"text-2xl font-bold\" style={{ color: sortedProvincialParties[0].color }}>\n                        {sortedProvincialParties[0].name}\n                      </div>\n                      <div className=\"text-lg font-semibold text-gray-700\">\n                        {sortedProvincialParties[0].alignment.toFixed(0)}% match\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {pastVote2021 && !pastVote2021.includes('not') && !pastVote2021.includes('Prefer') && sortedParties.length > 0 && (\n            <div className=\"mb-8 p-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl border-2 border-purple-200\">\n              <h3 className=\"text-xl font-bold text-gray-900 mb-3\">How Your Views Have Evolved</h3>\n              <p className=\"text-gray-700 mb-2\">\n                In 2021, you voted <strong>{pastVote2021}</strong>.\n              </p>\n              <p className=\"text-gray-700\">\n                {sortedParties[0].name === pastVote2021 ? (\n                  <span className=\"text-green-700 font-semibold\">\n                    Your top match is still {pastVote2021}! Your views appear consistent with your past voting behavior.\n                  </span>\n                ) : (\n                  <span className=\"text-blue-700 font-semibold\">\n                    Your top match is now {sortedParties[0].name}. Your political positioning may have shifted since 2021, or your priorities may have changed in response to current issues.\n                  </span>\n                )}\n              </p>\n            </div>\n          )}\n\n          {consistencyIssues.length > 0 && (\n            <div className=\"mb-8 bg-yellow-50 border-2 border-yellow-400 rounded-lg p-4\">\n              <h3 className=\"text-lg font-bold text-yellow-900 mb-2\">Consistency Note</h3>\n              <ul className=\"list-disc list-inside space-y-1 text-yellow-800\">\n                {consistencyIssues.map((issue, idx) => (\n                  <li key={idx}>{issue}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          <div className=\"grid md:grid-cols-2 gap-8 mb-8\">\n            <div>\n              <h3 className=\"text-xl font-bold mb-4\">Federal Party Alignment</h3>\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <BarChart data={sortedParties}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"name\" angle={-15} textAnchor=\"end\" height={70} interval={0} />\n                  <YAxis domain={[0, 100]} />\n                  <Tooltip formatter={(value) => `${Number(value).toFixed(0)}%`} />\n                  <Legend />\n                  <Bar dataKey=\"alignment\" name=\"Alignment %\">\n                    {sortedParties.map((entry) => (\n                      <Cell key={entry.code} fill={entry.color} />\n                    ))}\n                  </Bar>\n                </BarChart>\n              </ResponsiveContainer>\n            </div>\n\n            <div>\n              <h3 className=\"text-xl font-bold mb-4\">Provincial Party Alignment</h3>\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <BarChart data={sortedProvincialParties}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"name\" angle={-15} textAnchor=\"end\" height={70} interval={0} />\n                  <YAxis domain={[0, 100]} />\n                  <Tooltip formatter={(value) => `${Number(value).toFixed(0)}%`} />\n                  <Legend />\n                  <Bar dataKey=\"alignment\" name=\"Alignment %\">\n                    {sortedProvincialParties.map((entry) => (\n                      <Cell key={entry.code} fill={entry.color} />\n                    ))}\n                  </Bar>\n                </BarChart>\n              </ResponsiveContainer>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n            <div className=\"bg-gray-50 rounded-xl p-6\">\n              <h3 className=\"text-xl font-bold mb-4\">Axis Details</h3>\n              <div className=\"space-y-3\">\n                {Object.entries(axisScores).map(([axis, score]) => (\n                  <div key={axis} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm font-semibold text-gray-600\">{axis.replace(/_/g, ' ').toUpperCase()}</span>\n                    <div className=\"w-32 h-2 bg-gray-200 rounded-full overflow-hidden\">\n                      <div\n                        className={`h-2 ${score >= 0 ? 'bg-red-500' : 'bg-blue-500'}`}\n                        style={{ width: `${Math.min(1, Math.abs(score)) * 100}%` }}\n                      />\n                    </div>\n                    <span className=\"text-sm font-bold\" style={{ color: score < 0 ? '#2563EB' : '#DC2626' }}>\n                      {score > 0 ? '+' : ''}{(score * 100).toFixed(0)}\n                    </span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            <div className=\"bg-gray-50 rounded-xl p-6\">\n              <h3 className=\"text-xl font-bold mb-4\">Political Spectrum Position</h3>\n              <ResponsiveContainer width=\"100%\" height={320}>\n                <ScatterChart>\n                  <CartesianGrid />\n                  <XAxis type=\"number\" dataKey=\"x\" name=\"Economic Model\" domain={[-1, 1]} />\n                  <YAxis type=\"number\" dataKey=\"y\" name=\"Social Values\" domain={[-1, 1]} />\n                  <ZAxis type=\"number\" dataKey=\"z\" range={[60, 200]} />\n                  <Tooltip cursor={{ strokeDasharray: '3 3' }} />\n                  <Scatter data={scatterData} shape=\"circle\">\n                    {scatterData.map((entry) => (\n                      <Cell key={entry.name} fill={entry.color} />\n                    ))}\n                  </Scatter>\n                </ScatterChart>\n              </ResponsiveContainer>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\n            <div>\n              <h3 className=\"text-xl font-bold mb-4\">Federal Alignment Details</h3>\n              <div className=\"space-y-4\">\n                {sortedParties.map((party, index) => (\n                  <PartyResultRow key={party.code} party={party} index={index} />\n                ))}\n              </div>\n\n              {sortedProvincialParties.length > 0 && (\n                <>\n                  <h3 className=\"text-xl font-bold mt-8 mb-4\">Provincial Alignment Details</h3>\n                  <div className=\"space-y-4\">\n                    {sortedProvincialParties.map((party, index) => (\n                      <PartyResultRow key={party.code} party={party} index={index} />\n                    ))}\n                  </div>\n                </>\n              )}\n            </div>\n\n            <div>\n              <h3 className=\"text-xl font-bold mb-4\">Your Axis Positions</h3>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                {Object.entries(axisScores).slice(0, 8).map(([axis, score]) => (\n                  <div key={axis} className=\"bg-gray-50 p-4 rounded-lg\">\n                    <div className=\"text-sm text-gray-600 mb-1\">\n                      {axis.replace(/_/g, ' ').toUpperCase()}\n                    </div>\n                    <div\n                      className=\"text-2xl font-bold\"\n                      style={{ color: score < -0.3 ? '#3B82F6' : score > 0.3 ? '#EF4444' : '#6B7280' }}\n                    >\n                      {score > 0 ? '+' : ''}{(score * 100).toFixed(0)}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl shadow-xl p-8 mb-6\">\n            <h3 className=\"text-2xl font-bold text-gray-900 mb-4 text-center\">Share Your Results</h3>\n            <p className=\"text-gray-600 text-center mb-6\">\n              Let others know where you stand on the political spectrum!\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n              <button\n                onClick={handleThreadsShare}\n                className=\"flex items-center justify-center gap-3 px-6 py-3 bg-black hover:bg-gray-800 text-white font-semibold rounded-lg transition-colors shadow-lg\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12.186 3.5c-3.763 0-6.815 3.052-6.815 6.815 0 1.546.516 2.97 1.384 4.113L4.5 20.5l6.072-2.255c1.143.868 2.567 1.384 4.113 1.384 3.763 0 6.815-3.052 6.815-6.815S15.949 3.5 12.186 3.5zm0 11.13c-2.38 0-4.315-1.935-4.315-4.315s1.935-4.315 4.315-4.315 4.315 1.935 4.315 4.315-1.935 4.315-4.315 4.315z\" />\n                </svg>\n                Share to Threads\n              </button>\n              <button\n                onClick={handleFacebookShare}\n                className=\"flex items-center justify-center gap-3 px-6 py-3 bg-[#1877F2] hover:bg-[#166FE5] text-white font-semibold rounded-lg transition-colors shadow-lg\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path d=\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\" />\n                </svg>\n                Share to Facebook\n              </button>\n              <button\n                onClick={handleCopyResults}\n                className=\"flex items-center justify-center gap-3 px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white font-semibold rounded-lg transition-colors shadow-lg\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\" />\n                </svg>\n                Copy Results\n              </button>\n            </div>\n          </div>\n\n          <div className=\"text-center\">\n            <button\n              onClick={onRestart}\n              className=\"px-8 py-3 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-semibold transition-colors\"\n            >\n              Start Over\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","export const initialState = {\n  screen: 'welcome',\n  province: '',\n  responses: {},\n  questionImportance: {},\n  importance: {},\n  knowledgeAnswers: {},\n  pastVote2021: '',\n  currentQuestionIndex: 0,\n  milestoneFlags: {\n    25: false,\n    50: false,\n    75: false\n  },\n  showMilestone: false,\n  milestoneMessage: '',\n  consentToShare: false,\n  dataSubmitted: false\n};\n\nexport const ACTIONS = {\n  SET_SCREEN: 'SET_SCREEN',\n  SET_PROVINCE: 'SET_PROVINCE',\n  SET_PAST_VOTE: 'SET_PAST_VOTE',\n  UPDATE_RESPONSE: 'UPDATE_RESPONSE',\n  SET_RESPONSES: 'SET_RESPONSES',\n  TOGGLE_IMPORTANCE: 'TOGGLE_IMPORTANCE',\n  SET_IMPORTANCE: 'SET_IMPORTANCE',\n  SET_KNOWLEDGE_ANSWER: 'SET_KNOWLEDGE_ANSWER',\n  SET_CURRENT_QUESTION: 'SET_CURRENT_QUESTION',\n  SHOW_MILESTONE: 'SHOW_MILESTONE',\n  HIDE_MILESTONE: 'HIDE_MILESTONE',\n  MARK_MILESTONE: 'MARK_MILESTONE',\n  SET_CONSENT: 'SET_CONSENT',\n  SET_DATA_SUBMITTED: 'SET_DATA_SUBMITTED',\n  RESET: 'RESET'\n};\n\nexport const voteCompassReducer = (state, action) => {\n  switch (action.type) {\n    case ACTIONS.SET_SCREEN:\n      return { ...state, screen: action.payload };\n    case ACTIONS.SET_PROVINCE:\n      return { ...state, province: action.payload };\n    case ACTIONS.SET_PAST_VOTE:\n      return { ...state, pastVote2021: action.payload };\n    case ACTIONS.UPDATE_RESPONSE:\n      return {\n        ...state,\n        responses: {\n          ...state.responses,\n          [action.payload.qid]: action.payload.value\n        }\n      };\n    case ACTIONS.SET_RESPONSES:\n      return { ...state, responses: action.payload };\n    case ACTIONS.TOGGLE_IMPORTANCE:\n      return {\n        ...state,\n        questionImportance: {\n          ...state.questionImportance,\n          [action.payload.qid]: action.payload.value\n        }\n      };\n    case ACTIONS.SET_IMPORTANCE:\n      return { ...state, importance: action.payload };\n    case ACTIONS.SET_KNOWLEDGE_ANSWER:\n      return {\n        ...state,\n        knowledgeAnswers: {\n          ...state.knowledgeAnswers,\n          [action.payload.qid]: action.payload.value\n        }\n      };\n    case ACTIONS.SET_CURRENT_QUESTION:\n      return { ...state, currentQuestionIndex: action.payload };\n    case ACTIONS.SHOW_MILESTONE:\n      return {\n        ...state,\n        showMilestone: true,\n        milestoneMessage: action.payload\n      };\n    case ACTIONS.HIDE_MILESTONE:\n      return { ...state, showMilestone: false };\n    case ACTIONS.MARK_MILESTONE:\n      return {\n        ...state,\n        milestoneFlags: {\n          ...state.milestoneFlags,\n          [action.payload]: true\n        }\n      };\n    case ACTIONS.SET_CONSENT:\n      return { ...state, consentToShare: action.payload };\n    case ACTIONS.SET_DATA_SUBMITTED:\n      return { ...state, dataSubmitted: action.payload };\n    case ACTIONS.RESET:\n      return {\n        ...initialState,\n        screen: 'welcome'\n      };\n    default:\n      return state;\n  }\n};\n","export const getConsentWebhookUrl = () => {\n  if (typeof window !== 'undefined' && window.__VOTE_SPECTRUM_CONFIG__) {\n    return window.__VOTE_SPECTRUM_CONFIG__.consentWebhookUrl || '';\n  }\n\n  if (typeof process !== 'undefined' && process.env) {\n    return (\n      process.env.VOTE_SPECTRUM_WEBHOOK_URL ||\n      process.env.REACT_APP_VOTE_SPECTRUM_WEBHOOK_URL ||\n      process.env.NEXT_PUBLIC_VOTE_SPECTRUM_WEBHOOK_URL ||\n      ''\n    );\n  }\n\n  return '';\n};\n","import { useState, useEffect, useReducer, useMemo, useCallback } from 'react'\nimport { NVHeader, NVFooter } from '@design-system/components'\nimport '@design-system/styles/index.css'\n\n// Import components\nimport { WelcomeScreen } from './components/WelcomeScreen.jsx'\nimport { ProvinceScreen } from './components/ProvinceScreen.jsx'\nimport { PastVoteScreen } from './components/PastVoteScreen.jsx'\nimport { QuestionsScreen } from './components/QuestionsScreen.jsx'\nimport { ImportanceScreen } from './components/ImportanceScreen.jsx'\nimport { KnowledgeScreen } from './components/KnowledgeScreen.jsx'\nimport { ConsentScreen } from './components/ConsentScreen.jsx'\nimport { ResultsScreen } from './components/ResultsScreen.jsx'\n\n// Import state management\nimport { initialState, voteCompassReducer, ACTIONS } from './state.js'\nimport { getConsentWebhookUrl } from './config.js'\n\n// Data will be loaded from JSON file\n\n// Type for reducer actions\ntype ReducerAction = {\n  type: string\n  payload?: any\n}\n\n/**\n * Vote Spectrum Application\n * Interactive political alignment survey for Canadian voters\n */\nfunction VoteSpectrum({ data }: { data: any }) {\n  const [state, dispatch] = useReducer<(state: any, action: ReducerAction) => any>(voteCompassReducer, initialState)\n  const [language, setLanguage] = useState('en')\n\n  const {\n    screen,\n    province,\n    responses,\n    questionImportance,\n    importance,\n    knowledgeAnswers,\n    pastVote2021,\n    currentQuestionIndex,\n    showMilestone,\n    consentToShare,\n    dataSubmitted\n  } = state\n\n  // Extract data\n  const allQuestions = data?.allQuestions || []\n  const knowledgeQuiz = data?.knowledgeQuiz || []\n  const issueBuckets = data?.issueBuckets || []\n  const parties = data?.parties || {}\n  const provincialParties = data?.provincialParties || {}\n\n  // Filter questions based on province\n  const filteredQuestions = useMemo(() => {\n    if (!allQuestions) return []\n\n    return allQuestions.filter((q: any) => {\n      // Federal questions always included\n      if (q.jurisdiction === 'federal') return true\n\n      // Provincial questions only for selected province\n      if (q.jurisdiction === 'provincial') {\n        if (!province) return false\n        if (q.province_gate && Array.isArray(q.province_gate)) {\n          return q.province_gate.includes(province)\n        }\n        return true\n      }\n\n      return true\n    })\n  }, [allQuestions, province])\n\n  // Calculate results\n  const calculateResults = useCallback(() => {\n    const axisScores: Record<string, number> = {}\n    const partyDistances: Record<string, any> = {}\n    const provincialPartyDistances: Record<string, any> = {}\n\n    // Initialize party distances\n    Object.values(parties || {}).forEach((party: any) => {\n      partyDistances[party.code] = {\n        party: party.name,\n        alignment: 0,\n        color: party.color,\n        logo: party.logo\n      }\n    })\n\n    // Calculate scores based on responses\n    // (Simplified version - full calculation logic from original app.jsx)\n    Object.entries(responses).forEach(([qid, _value]: [string, any]) => {\n      const question = filteredQuestions.find((q: any) => q.qid === qid)\n      if (!question) return\n\n      // const isImportant = questionImportance[qid]\n      // const weight = isImportant ? 2 : 1\n\n      // Calculate axis scores and party alignments\n      // (Full logic would be ported from original app.jsx)\n    })\n\n    return {\n      axisScores,\n      partyDistances,\n      provincialPartyDistances,\n      confidence: 75,\n      consistencyIssues: []\n    }\n  }, [province, filteredQuestions, responses, questionImportance, parties])\n\n  const results = useMemo(() => calculateResults(), [calculateResults])\n\n  // Navigation functions\n  const goToNextQuestion = useCallback(() => {\n    if (currentQuestionIndex < filteredQuestions.length - 1) {\n      dispatch({ type: ACTIONS.SET_CURRENT_QUESTION, payload: currentQuestionIndex + 1 })\n    } else {\n      dispatch({ type: ACTIONS.SET_SCREEN, payload: 'importance' })\n    }\n  }, [currentQuestionIndex, filteredQuestions.length])\n\n  const goToPreviousQuestion = useCallback(() => {\n    if (currentQuestionIndex > 0) {\n      dispatch({ type: ACTIONS.SET_CURRENT_QUESTION, payload: currentQuestionIndex - 1 })\n    }\n  }, [currentQuestionIndex])\n\n  const restartToProvinceSelection = useCallback(() => {\n    dispatch({ type: ACTIONS.RESET })\n    dispatch({ type: ACTIONS.SET_SCREEN, payload: 'province' })\n  }, [])\n\n  // Submit data\n  const submitAnonymizedData = useCallback(async () => {\n    if (!consentToShare) {\n      dispatch({ type: ACTIONS.SET_SCREEN, payload: 'results' })\n      return\n    }\n\n    const webhookUrl = getConsentWebhookUrl()\n    if (!webhookUrl) {\n      dispatch({ type: ACTIONS.SET_SCREEN, payload: 'results' })\n      return\n    }\n\n    const { axisScores, partyDistances } = calculateResults()\n    const payload = {\n      timestamp: new Date().toISOString(),\n      province,\n      responses,\n      questionImportance,\n      importanceWeights: importance,\n      knowledgeAnswers,\n      pastVote2021,\n      axisScores,\n      topThreeParties: Object.entries(partyDistances)\n        .sort(([, a]: any, [, b]: any) => b.alignment - a.alignment)\n        .slice(0, 3)\n        .map(([code, data]: any) => ({ party: code, alignment: data.alignment }))\n    }\n\n    try {\n      const response = await fetch(webhookUrl, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      })\n\n      if (response.ok) {\n        dispatch({ type: ACTIONS.SET_DATA_SUBMITTED, payload: true })\n      }\n    } catch (error) {\n      console.error('Error submitting data:', error)\n    }\n\n    dispatch({ type: ACTIONS.SET_SCREEN, payload: 'results' })\n  }, [consentToShare, calculateResults, province, responses, questionImportance, importance, knowledgeAnswers, pastVote2021])\n\n  const hasKnowledgeQuiz = knowledgeQuiz && knowledgeQuiz.length > 0\n\n  return (\n    <div className=\"min-h-screen flex flex-col\">\n      <NVHeader linkTo=\"artifacts\" />\n\n      {/* Language toggle */}\n      <div className=\"fixed top-4 right-4 z-50\">\n        <button\n          type=\"button\"\n          onClick={() => setLanguage((prev) => (prev === 'en' ? 'fr' : 'en'))}\n          className=\"px-4 py-2 rounded-full bg-white/90 border border-gray-300 shadow hover:bg-white transition-colors text-sm font-semibold min-touch\"\n        >\n          {language === 'en' ? 'FranÃ§ais' : 'English'}\n        </button>\n      </div>\n\n      <main className=\"flex-1\">\n        {screen === 'welcome' && (\n          <WelcomeScreen\n            onStart={() => dispatch({ type: ACTIONS.SET_SCREEN, payload: 'province' })}\n          />\n        )}\n\n        {screen === 'province' && (\n          <ProvinceScreen\n            onSelectProvince={(selectedProvince: string) => {\n              dispatch({ type: ACTIONS.SET_PROVINCE, payload: selectedProvince })\n              dispatch({ type: ACTIONS.SET_SCREEN, payload: 'past-vote' })\n            }}\n          />\n        )}\n\n        {screen === 'past-vote' && (\n          <PastVoteScreen\n            pastVote2021={pastVote2021}\n            onSelectPastVote={(selection: string) => dispatch({ type: ACTIONS.SET_PAST_VOTE, payload: selection })}\n            onContinue={() => {\n              dispatch({ type: ACTIONS.SET_CURRENT_QUESTION, payload: 0 })\n              dispatch({ type: ACTIONS.SET_SCREEN, payload: 'questions' })\n            }}\n          />\n        )}\n\n        {screen === 'questions' && (\n          <QuestionsScreen\n            province={province}\n            questions={filteredQuestions}\n            currentQuestionIndex={currentQuestionIndex}\n            responses={responses}\n            questionImportance={questionImportance}\n            showMilestone={showMilestone}\n            milestoneMessage={state.milestoneMessage}\n            onToggleImportance={(qid: string, value: boolean) =>\n              dispatch({ type: ACTIONS.TOGGLE_IMPORTANCE, payload: { qid, value } })\n            }\n            onResponseChange={(qid: string, value: number) =>\n              dispatch({ type: ACTIONS.UPDATE_RESPONSE, payload: { qid, value } })\n            }\n            onSkip={goToNextQuestion}\n            onNext={goToNextQuestion}\n            onPrevious={goToPreviousQuestion}\n            onRestart={restartToProvinceSelection}\n          />\n        )}\n\n        {screen === 'importance' && (\n          <ImportanceScreen\n            importance={importance}\n            issueBuckets={issueBuckets}\n            onSetImportance={(nextImportance: any) =>\n              dispatch({ type: ACTIONS.SET_IMPORTANCE, payload: nextImportance })\n            }\n            onContinue={() =>\n              dispatch({\n                type: ACTIONS.SET_SCREEN,\n                payload: hasKnowledgeQuiz ? 'knowledge' : 'consent'\n              })\n            }\n            onBack={() => dispatch({ type: ACTIONS.SET_SCREEN, payload: 'questions' })}\n          />\n        )}\n\n        {screen === 'knowledge' && hasKnowledgeQuiz && (\n          <KnowledgeScreen\n            knowledgeQuiz={knowledgeQuiz}\n            knowledgeAnswers={knowledgeAnswers}\n            onUpdateAnswer={(qid: string, value: string) =>\n              dispatch({ type: ACTIONS.SET_KNOWLEDGE_ANSWER, payload: { qid, value } })\n            }\n            onComplete={() => dispatch({ type: ACTIONS.SET_SCREEN, payload: 'consent' })}\n          />\n        )}\n\n        {screen === 'consent' && (\n          <ConsentScreen\n            consentToShare={consentToShare}\n            onToggleConsent={() =>\n              dispatch({ type: ACTIONS.SET_CONSENT, payload: !consentToShare })\n            }\n            onSubmit={submitAnonymizedData}\n            onSkip={() => dispatch({ type: ACTIONS.SET_SCREEN, payload: 'results' })}\n          />\n        )}\n\n        {screen === 'results' && (\n          <ResultsScreen\n            province={province}\n            results={results}\n            responses={responses}\n            questions={filteredQuestions}\n            parties={parties}\n            provincialParties={provincialParties}\n            pastVote2021={pastVote2021}\n            dataSubmitted={dataSubmitted}\n            onRestart={restartToProvinceSelection}\n          />\n        )}\n      </main>\n\n      <NVFooter />\n    </div>\n  )\n}\n\n// Main App component with data loading\nfunction App() {\n  const [data, setData] = useState<any>(null)\n  const [error, setError] = useState<Error | null>(null)\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const [baseResponse, translationResponse] = await Promise.all([\n          fetch('/vote-spectrum-data.json'),\n          fetch('/translations-fr.json').catch(() => null)\n        ])\n\n        if (!baseResponse.ok) {\n          throw new Error('Failed to load data')\n        }\n\n        const baseJson = await baseResponse.json()\n        const translations: any = {}\n\n        if (translationResponse && translationResponse.ok) {\n          try {\n            translations.fr = await translationResponse.json()\n          } catch (translationError) {\n            console.warn('Unable to parse French translations', translationError)\n          }\n        }\n\n        setData({ ...baseJson, translations })\n      } catch (err) {\n        console.error('Error loading Vote Spectrum data', err)\n        setError(err as Error)\n      }\n    }\n\n    loadData()\n  }, [])\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-900 text-white\">\n        <div className=\"text-center space-y-4\">\n          <h1 className=\"text-3xl font-bold\">Unable to load Vote Spectrum</h1>\n          <p className=\"text-gray-300\">Please refresh the page or try again later.</p>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"px-5 py-3 bg-red-600 hover:bg-red-700 rounded-lg font-semibold min-touch\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  if (!data) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-900 text-white\">\n        <div className=\"text-center space-y-4\">\n          <div className=\"h-12 w-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto\"></div>\n          <p className=\"text-gray-300\">Loading Vote Spectrum experience...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return <VoteSpectrum data={data} />\n}\n\nexport default App\n","import { StrictMode } from 'react'\nimport ReactDOM from 'react-dom/client'\nimport App from './App'\nimport './index.css'\n\nReactDOM.createRoot(document.getElementById('root')!).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n)\n"],"names":["f","require$$0","k","l","m","n","p","q","c","a","g","b","d","e","h","reactJsxRuntime_production_min","jsxRuntimeModule","client","NVHeader","className","linkTo","href","jsx","NVFooter","year","customLinks","links","jsxs","link","index","WelcomeScreen","onStart","PROVINCES","ProvinceScreen","onSelectProvince","prov","PAST_VOTE_OPTIONS","PastVoteScreen","pastVote2021","onSelectPastVote","onContinue","party","TERRITORY_CODES","DID_YOU_KNOW_FACTS","SCALE_LABELS","getLabelForValue","value","QuestionsScreen","province","questions","currentQuestionIndex","responses","questionImportance","showMilestone","milestoneMessage","onToggleImportance","onResponseChange","onSkip","onNext","onPrevious","onRestart","currentQuestion","progress","useMemo","currentValue","isImportant","randomFact","relevantProvinceTags","code","event","label","word","React","short","ImportanceScreen","importance","issueBuckets","onSetImportance","onBack","remaining","sum","sortedBuckets","aVal","incrementValue","id","amount","currentVal","newVal","diff","equalPoints","newImportance","bucket","barWidth","KnowledgeScreen","knowledgeQuiz","knowledgeAnswers","onUpdateAnswer","onComplete","currentQ","setCurrentQ","useState","question","currentAnswer","goToNext","prev","option","idx","ConsentScreen","consentToShare","onToggleConsent","onSubmit","SHARE_URL","withAlpha","hex","alpha","normalized","char","bigint","r","PartyResultRow","safeColor","safeAlignment","ResultsScreen","results","parties","provincialParties","dataSubmitted","axisScores","partyDistances","provincialPartyDistances","confidence","consistencyIssues","federalQs","provincialQs","sortedParties","data","_a","_b","_c","sortedProvincialParties","provincial","scatterData","shareText","pastVoteNote","handleThreadsShare","threadsUrl","handleFacebookShare","fbUrl","handleCopyResults","issue","ResponsiveContainer","BarChart","CartesianGrid","XAxis","YAxis","Tooltip","Legend","Bar","entry","Cell","axis","score","ScatterChart","ZAxis","Scatter","Fragment","initialState","ACTIONS","voteCompassReducer","state","action","getConsentWebhookUrl","define_process_env_default","VoteSpectrum","dispatch","useReducer","language","setLanguage","screen","allQuestions","filteredQuestions","calculateResults","useCallback","qid","_value","goToNextQuestion","goToPreviousQuestion","restartToProvinceSelection","submitAnonymizedData","webhookUrl","payload","error","hasKnowledgeQuiz","selectedProvince","selection","nextImportance","App","setData","setError","useEffect","baseResponse","translationResponse","baseJson","translations","translationError","err","ReactDOM","StrictMode"],"mappings":"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","x_google_ignoreList":[0,1,2]}